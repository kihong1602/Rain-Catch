# [RainCatch] ê³µìœ  ìš°ì‚° í”Œë«í¼

```text
â˜” ë¹„ì˜¤ëŠ” ë‚  ìš°ì‚°ì´ ì—†ì„ ë•Œ, ëˆ„êµ¬ë‚˜ ì´ìš©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ìš°ì‚° ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
```

- [ ğŸ¯ ì„œë¹„ìŠ¤ ë°°ê²½ ë° ëª©í‘œ](#-ì„œë¹„ìŠ¤-ë°°ê²½-ë°-ëª©í‘œ)
- [ ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ ğŸ“€ ì•„í‚¤í…ì²˜](#-ì•„í‚¤í…ì²˜)
- [ ğŸ“‚ íŒ¨í‚¤ì§€ êµ¬ì¡°](#-íŒ¨í‚¤ì§€-êµ¬ì¡°)
- [ ğŸš€ ê¸°ìˆ ì  ê²½í—˜](#-ê¸°ìˆ ì -ê²½í—˜)

---
## ğŸ¯ ì„œë¹„ìŠ¤ ë°°ê²½ ë° ëª©í‘œ
>í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” **2020 í™˜ê²½ë³´ì „ ë° ì—ë„ˆì§€ ì ˆê° ëŒ€êµ­ë¯¼ ì•„ì´ë””ì–´ ê³µëª¨ì „** 2ë“± ìš°ìˆ˜ìƒì„ ìˆ˜ìƒí•œ ìš°ì‚° ê³µìœ  ì‹œìŠ¤í…œ MVPëª¨ë¸ì„ 
ê°œì¸ì ìœ¼ë¡œ ê³ ë„í™”í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

ê°‘ì‘ìŠ¤ëŸ¬ìš´ ìš°ì²œì‹œ, ë§ì€ ì‚¬ëŒë“¤ì´ ì¼íšŒìš© ìš°ì‚°ì„ êµ¬ë§¤í•©ë‹ˆë‹¤.<br/>
ê·¸ëŸ¬ë‚˜ ì´ ìš°ì‚°ë“¤ì€ ì‚¬ìš© í›„ ì‰½ê²Œ ìƒì–´ë²„ë¦¬ê±°ë‚˜ ë²„ë ¤ì§€ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.<br/>
ê·¸ ê²°ê³¼ ë§¤ë…„ ì „ ì„¸ê³„ì ìœ¼ë¡œ 25ê°œì˜ ì—í íƒ‘ì„ ìŒ“ì„ ë§Œí¼ ì†Œê°í•˜ê²Œë˜ì–´ í™˜ê²½íŒŒê´´ë¥¼ ì¼ìœ¼í‚¤ê³  ìˆìŠµë‹ˆë‹¤.<br/>
ì´ë¥¼ ë°©ì§€í•˜ê³ ì ìš°ì‚°ì„ ì‰½ê²Œ ë¹Œë¦¬ê³  ë°˜ë‚©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ìš°ì‚° ì„œë¹„ìŠ¤ë¥¼ ê¸°íší•˜ì˜€ìŠµë‹ˆë‹¤.<br/>

ì„œë¹„ìŠ¤ ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
- ìš°ì‚°ì„ ì‰½ê²Œ ë¹Œë¦¬ê³  ë°˜ë‚©í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì¼íšŒìš© ìš°ì‚° íê¸°ë¥¼ ì¤„ì´ê³  í™˜ê²½ ë³´í˜¸ì— ê¸°ì—¬í•©ë‹ˆë‹¤.
- ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ê°€ê¹Œìš´ ìš°ì‚° ëŒ€ì—¬ì†Œë¥¼ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆìœ¼ë©°, ì‚¬ìš© ê°€ëŠ¥í•œ ìš°ì‚°ì˜ ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ ì´ì¤‘í™”, ë¡œë“œ ë°¸ëŸ°ì‹±, CI/CD ìë™í™”ë¥¼ í†µí•œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
| ë¶„ë¥˜       | ê¸°ìˆ  ëª…                                                                    |
|----------|-------------------------------------------------------------------------|
| BackEnd  | Java, Spring(Boot,Security,JPA), QueryDsl, JUnit, Mockito, Redis, MySQL |
| FrontEnd | JavaScript, axios, React(ë„ì… ì¤‘)                                          |
| DevOps   | NGINX, (AWS) EC2, RDS, ELB, CodeDeploy, GithubActions                   |
| Tools    | nGrinder, JMeter, Scouter, IntelliJ, Gradle                             |

## ğŸ“€ ì•„í‚¤í…ì²˜
![RainCatch_Architecture](readme/image/architecture/architecture.png)

## ğŸ—ƒï¸ ERD
![RainCatch_ERD](readme/image/erd/erd.png)

## ğŸ“‚ íŒ¨í‚¤ì§€ êµ¬ì¡°
```text
RainCatch
    â”œâ”€.github
    â”‚    â””â”€workflows
    â”‚
    â”œâ”€frontend
    â”‚     â”œâ”€build/...
    â”‚     â”œâ”€public/...
    â”‚     â””â”€src
    â”‚        â”œâ”€components/...
    â”‚        â””â”€modules/...
    â”‚
    â”œâ”€backend
    â”‚    â””â”€src
    â”‚       â”œâ”€main/java/oo/kr/shared
    â”‚       â”‚             â”œâ”€domain
    â”‚       â”‚             â”‚    â””â”€api
    â”‚       â”‚             â”‚       â”œâ”€controller
    â”‚       â”‚             â”‚       â”‚     â”œâ”€request
    â”‚       â”‚             â”‚       â”‚     â””â”€response
    â”‚       â”‚             â”‚       â”œâ”€domain
    â”‚       â”‚             â”‚       â”‚     â”œâ”€entity
    â”‚       â”‚             â”‚       â”‚     â””â”€repository
    â”‚       â”‚             â”‚       â””â”€service
    â”‚       â”‚             â”‚
    â”‚       â”‚             â””â”€global
    â”‚       â”‚                 â”œâ”€config
    â”‚       â”‚                 â”œâ”€exception
    â”‚       â”‚                 â”œâ”€security
    â”‚       â”‚                 â”œâ”€utils
    â”‚       â”‚                 â””â”€ ...
    â”‚       â””â”€test/...
    â””â”€README.md
```
## ğŸš€ ê¸°ìˆ ì  ê²½í—˜
### GithubActionsì™€ CodeDeployë¥¼ ì‚¬ìš©í•œ CI/CD ìë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶• [[êµ¬ì„±íŒ¨í‚¤ì§€](https://github.com/kihong1602/Rain-Catch/tree/main/.github/workflows)]
- build ì‘ì—…ì€ pull-request, push ì´ë²¤íŠ¸ ì‹œ ë°˜ë³µ ì‚¬ìš©ë˜ê³ , deploy ì‘ì—…ì€ frontend, backend push ì‘ì—…ì— ë°˜ë³µ ì‚¬ìš©
- ì¤‘ë³µ ì½”ë“œë¥¼ ì¤„ì´ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸°ìœ„í•´ GithubActionsì˜ Reusable Workflowë¡œ build, deploy ì‘ì—… ë¶„ë¦¬

### JWTê¸°ë°˜ ì¸ì¦êµ¬ì¡° êµ¬í˜„[[êµ¬í˜„ì½”ë“œ](https://github.com/kihong1602/Rain-Catch/blob/d357ecfcaa5f09e179eca118d708aa42b9761d57/backend/src/main/java/oo/kr/shared/global/security/filter/JwtAuthenticationFilter.java#L27-L95) / [êµ¬ì„±íŒ¨í‚¤ì§€](https://github.com/kihong1602/Rain-Catch/tree/main/backend/src/main/java/oo/kr/shared/global/security/jwt)]
- ì„¸ì…˜ê¸°ë°˜ ì¸ì¦êµ¬ì¡°ëŠ” íŠ¸ë˜í”½ì´ ì»¤ì§ˆìˆ˜ë¡ ì„œë²„ ë¶€í•˜ê°€ ì¦ê°€
- í† í°ê¸°ë°˜ ì¸ì¦êµ¬ì¡°ë¥¼ ë„ì…í•´ ì¸ê°€ ìš”ì²­ì— ëŒ€í•œ ì„œë²„ ë¶€í•˜ ê°ì†Œ
- í† í° íƒˆì·¨ë¥¼ ëŒ€ë¹„í•´ AccessToken ë§Œë£Œì‹œê°„ì„ ì§§ê²Œ ì„¤ì •
  - ReFreshTokenì„ ì‚¬ìš©í•´ AccessTokenì„ ê°±ì‹ í•˜ë„ë¡ êµ¬ì„±

### í•˜ë²„ì‚¬ì¸ ê³µì‹ì„ ì´ìš©í•œ ìœ„ì¹˜ê¸°ë°˜ ì£¼ë³€ ë°ì´í„° ê²€ìƒ‰[[êµ¬í˜„ì½”ë“œ](https://github.com/kihong1602/Rain-Catch/blob/c504f3ee1474b2285a71da4572fbe57c56a9701b/backend/src/main/java/oo/kr/shared/domain/rentalstation/domain/repository/custom/QRentalStationRepositoryImpl.java#L29-L61)]
- í”„ë¡œì íŠ¸ ì´ˆê¸°, MySQL ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ë¥¼ ì´ìš©í•´ ì£¼ë³€ ë°ì´í„° ê²€ìƒ‰ ë¡œì§ êµ¬í˜„
  - MySQLì— ì˜ì¡´í•˜ëŠ” ì¿¼ë¦¬ë¬¸ìœ¼ë¡œ ì¸í•´ DB ë³€ê²½ì— ì œì•½ì‚¬í•­ì´ ì¡´ì¬
- í•˜ë²„ì‚¬ì¸ê³µì‹ì„ ì§ì ‘ QueryDSLë¡œ êµ¬í˜„í•´ DB ë³€ê²½ì´ë‚˜ í…ŒìŠ¤íŠ¸í™˜ê²½ì—ì„œë„ ìœ ì—°í•˜ê²Œ ì‘ë™í•˜ë„ë¡ êµ¬í˜„

### CircuitBreaker íŒ¨í„´ì„ í†µí•œ ì™¸ë¶€ API ì¥ì• ìƒí™© ëŒ€ë¹„[[êµ¬í˜„ì½”ë“œ1](https://github.com/kihong1602/Rain-Catch/blob/f9a2534c02407f0db29d9d35686998b9c00938d4/backend/src/main/java/oo/kr/shared/global/portone/PaymentClient.java#L26) / [êµ¬í˜„ì½”ë“œ2](https://github.com/kihong1602/Rain-Catch/blob/f9a2534c02407f0db29d9d35686998b9c00938d4/backend/src/main/java/oo/kr/shared/global/exception/handler/GlobalExceptionHandler.java#L31-L36) / [ì„¤ì •ì½”ë“œ](https://github.com/kihong1602/Rain-Catch/blob/f9a2534c02407f0db29d9d35686998b9c00938d4/backend/src/main/resources/application.yml#L46-L65)]
- ì™¸ë¶€ API ì„œë²„ ì¥ì• ë°œìƒì‹œ Timeoutì„ ê¸°ë‹¤ë¦¼ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ìì›ë‚­ë¹„
- ì„œí‚·ë¸Œë ˆì´ì»¤ íŒ¨í„´ì„ ë„ì…í•´ ì¼ì • íšŸìˆ˜ ì´ìƒ ì—ëŸ¬ê°€ ê°ì§€ëœë‹¤ë©´ ì„œí‚·ì„ ì—´ì–´ ë¹ ë¥¸ ì—ëŸ¬ ì‘ë‹µ
<details>
<summary>5100ê±´ì˜ ìš”ì²­ì— ëŒ€í•´ ì—ëŸ¬ ì‘ë‹µì‹œê°„ ëŒ€í­ í–¥ìƒ</summary>
<p>ì„œí‚·ë¸Œë ˆì´ì»¤ ì ìš© ì „ 14ë¶„14ì´ˆ, ì„œí‚·ë¸Œë ˆì´ì»¤ ì ìš© í›„ 12ì´ˆ</p>
<img src="readme/image/circuitbreaker/no_circuit_breaker.png" alt="ì„œí‚·ë¸Œë ˆì´ì»¤ ë¯¸ì ìš©">
<img src="readme/image/circuitbreaker/circuit_breaker.png" alt="ì„œí‚·ë¸Œë ˆì´ì»¤ ì ìš©">
</details>

### AutoScalingê³¼ LoadBalancerë¥¼ ì´ìš©í•œ ì„œë²„ ì´ì¤‘í™” ë° ë¶€í•˜ë¶„ì‚°
- ë‹¨ì¼ ì„œë²„ êµ¬ì¡°ëŠ” íŠ¸ë˜í”½ ì¦ê°€ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì˜ ìœ„í—˜ ì¡´ì¬
- AutoScaling Groupì„ ì„¤ì •í•˜ì—¬ CPU ì‚¬ìš©ëŸ‰ 70%ì´ìƒì¼ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë„ë¡ êµ¬ì„±
- LoadBalancer ELBë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì„œë²„ì— ì•ˆì •ì ìœ¼ë¡œ ë¶€í•˜ ë¶„ì‚°